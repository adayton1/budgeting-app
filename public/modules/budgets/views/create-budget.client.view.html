<section data-ng-controller="BudgetsController" data-ng-init="find()">
	<div class="page-header">
		<h1>New Budget</h1>
	</div>
	<div class="col-md-12">
		<form name="budgetForm" class="form-horizontal" data-ng-submit="create()" novalidate data-ng-if="!budgets.length">
			<fieldset>
				<div class="form-group" ng-class="{ 'has-error': budgetForm.name.$dirty && budgetForm.name.$invalid }">
					<label class="control-label" for="name">Name</label>
					<div class="controls">
						<input name="name" type="text" data-ng-model="name" id="name" class="form-control" placeholder="Name" required>
					</div>
				</div>

				<div class="form-group" ng-class="{ 'has-error': budgetForm.type.$dirty && budgetForm.type.$invalid }">
					<label class="control-label" for="type">Type</label>
					<div class="controls">
						<select name="type" data-ng-model="type" id="type" class="form-control" placeholder="Type" required>
							<option value="yearly">Yearly</option>
							<option value="monthly" selected="true">Monthly</option>
							<option value="weekly">Weekly</option>
							<option value="daily">Daily</option>
						</select>
					</div>
				</div>

				<div class="form-group">
					<label class="control-label" for="notes">Notes</label>
					<div class="controls">
						<textarea name="notes" data-ng-model="notes" id="notes" class="form-control" cols="30" rows="10" placeholder="Notes"></textarea>
					</div>
				</div>

				<div class="form-group">
					<label class="control-label" for="active">Make this your active budget?</label>
					<div class="controls">
						<input type="checkbox" name="active" data-ng-model="active" id="active" ng-true-value="active" ng-false-value="inactive" checked="true"></textarea>
					</div>
				</div>

				<div class="form-group">
					<input type="submit" class="btn btn-default">
				</div>
				<div data-ng-show="error" class="text-danger">
					<strong data-ng-bind="error"></strong>
				</div>
			</fieldset>
		</form>
		<div class="alert alert-warning text-center" data-ng-if="budgets.length">
			<p>Sorry, only one budget per user at this time.</p>
		</div>
	</div>
</section>